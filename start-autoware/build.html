<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Build the Autoware Project - Autoware Developer Guide fron NEWSLAB, NTU</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../dev-env.html"><strong aria-hidden="true">1.</strong> Development Environment</a></li><li class="chapter-item expanded "><a href="../start-autoware.html"><strong aria-hidden="true">2.</strong> Start an Autoware Project</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../start-autoware/start-autoware.html"><strong aria-hidden="true">2.1.</strong> Start an Autoware Project</a></li><li class="chapter-item expanded "><a href="../start-autoware/customization.html"><strong aria-hidden="true">2.2.</strong> Customization</a></li><li class="chapter-item expanded "><a href="../start-autoware/build.html" class="active"><strong aria-hidden="true">2.3.</strong> Build the Autoware Project</a></li></ol></li><li class="chapter-item expanded "><a href="../sensors.html"><strong aria-hidden="true">3.</strong> Sensors</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../sensors/velodyne-vlp32.html"><strong aria-hidden="true">3.1.</strong> LiDAR: Velodyne VLP-32C</a></li><li class="chapter-item expanded "><a href="../sensors/blickfield-cube1.html"><strong aria-hidden="true">3.2.</strong> LiDAR: Blickfield Cube1</a></li><li class="chapter-item expanded "><a href="../sensors/zed-x-mini.html"><strong aria-hidden="true">3.3.</strong> Camera: ZED X Mini</a></li></ol></li><li class="chapter-item expanded "><a href="../perception.html"><strong aria-hidden="true">4.</strong> Perception</a></li><li class="chapter-item expanded "><a href="../control.html"><strong aria-hidden="true">5.</strong> Control</a></li><li class="chapter-item expanded "><a href="../vehicle-config.html"><strong aria-hidden="true">6.</strong> Vehicle Configuration</a></li><li class="chapter-item expanded "><a href="../map-and-localization.html"><strong aria-hidden="true">7.</strong> Map &amp; Localization</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Autoware Developer Guide fron NEWSLAB, NTU</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="compile-the-autoware-project"><a class="header" href="#compile-the-autoware-project">Compile the Autoware Project</a></h1>
<h2 id="source-code-and-dependency-preparation"><a class="header" href="#source-code-and-dependency-preparation">Source Code and Dependency Preparation</a></h2>
<p>Follow the instructions on this
<a href="https://autowarefoundation.github.io/autoware-documentation/main/installation/autoware/source-installation/">page</a>
to build Autoware source code.</p>
<p>Switch to specific branch depending on your <strong>OS</strong> and <strong>ROS2</strong>
version.</p>
<p><img src="./media/media/T8NG073FC93J12RFQS565473CG.png" alt="" /></p>
<p>Clone the Autoware Repo.</p>
<pre><code class="language-bash">git clone https://github.com/autowarefoundation/autoware.git
cd autoware
</code></pre>
<p>There are two ways to install dependent libraries. Either (1) run the
official Ansible script or (2) install the them manually.</p>
<p>The Ansible script is only recommended for freshly installed Ubuntu
systems. It will interfere with existing CUDA. If you have custom CUDA
installation, such as JetPack, it's recommended to go on the manual
way.</p>
<p>Install dependent packages. You may skip “Install ROS 2“ if you
already have ROS 2 installed. The “Install Nvidia CUDA/cuDNN/TensorRT“
should be skipped if they are already configured on the system.</p>
<p><img src="./media/media/449J2N847D0G5E18Q4VIRQK5US.png" alt="" />
<img src="./media/media/PTQM7GKMOL63J03D83GHCRA0C0.png" alt="" /></p>
<h2 id="compile-the-autoware-project-1"><a class="header" href="#compile-the-autoware-project-1">Compile the Autoware Project</a></h2>
<p>The Autoware repo layout itself follows ROS convention. All packages
reside in the <code>src</code> directory.</p>
<h3 id="the-vcs-rosdep-colcon-chain"><a class="header" href="#the-vcs-rosdep-colcon-chain">The vcs-rosdep-colcon Chain</a></h3>
<p>The vcs → rosdep → colcon chain is a common practice to build most ROS
projects, including Autoware.</p>
<ul>
<li>
<p>Run <code>vcs</code> to download dependent repositories into the <code>src</code> folder.</p>
<pre><code class="language-bash">cd autoware
mkdir src
vcs import src &lt; autoware.repos
</code></pre>
</li>
<li>
<p>Run <code>rosdep</code> to install system dependencies. It scans through
packages within <code>src</code> and runs <code>apt install xxx</code> according to their
dependency requirements.</p>
<pre><code class="language-bash">source /opt/ros/humble/setup.bash
rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO
</code></pre>
</li>
<li>
<p>Build the whole Autoware project using <code>colcon</code>. It scans through
packages in <code>src</code> and compile them according to their dependency
order.</p>
<pre><code class="language-bash">colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release
</code></pre>
</li>
</ul>
<h3 id="compilation-result"><a class="header" href="#compilation-result">Compilation Result</a></h3>
<p><code>colcon</code> produces the followings directories serving respective
purposes.</p>
<ul>
<li><code>install</code> places final products of the build, storing compiled
program binaries and libraries.</li>
<li><code>build</code> stores the intermediate files for the build.</li>
<li><code>log</code> saves the compilation log.</li>
</ul>
<p>The <code>--symlink-install</code> option creates symbolic links to source files
in the installation. It makes life easier in the case that Python
scripts and configuration files are modified frequently.</p>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="missing-dependencies"><a class="header" href="#missing-dependencies">Missing Dependencies</a></h3>
<p>In many cases, compilation error is due to missing dependencies. Run
<code>rosdep</code> to make sure required system dependencies available before
compilation.</p>
<pre><code class="language-bash">rosdep update --rosdistro $ROS_DISTRO
</code></pre>
<h3 id="disable-warning-as-errors"><a class="header" href="#disable-warning-as-errors">Disable Warning-as-errors</a></h3>
<p>Autoware enforces strict auditing rules by default. Remove the
<strong>-Werror</strong> option to lift the restriction. Open autoware_package.cmake
and modify it as follows.7</p>
<pre><code class="language-diff">- add_compile_options(-Wall -Wextra -Wpedantic -Werror)
+ add_compile_options(-Wall -Wextra -Wpedantic)
</code></pre>
<h3 id="compile-error-on-trtexec_vender"><a class="header" href="#compile-error-on-trtexec_vender">Compile Error on trtexec_vender</a></h3>
<p>Facing problem when building <strong>trtexec_vender.</strong> Modify
src/universe/autoware.universe/common/trtexec_vendor/CMakeLists.txt.</p>
<pre><code class="language-diff">- GIT_TAG ${TENSORRT_VERSION}
+ GIT_TAG v${TENSORRT_VERSION}
</code></pre>
<h3 id="restrict-parallel-colcon-workers"><a class="header" href="#restrict-parallel-colcon-workers">Restrict Parallel Colcon Workers</a></h3>
<p>Colcon build failed because too many packages were building in parallel.
(Exceeding the hardware load limit.) Adding parameter
“<strong>--parallel-workers</strong>“ when executing <strong>colcon build</strong>.</p>
<pre><code class="language-bash">colcon build \
    --symlink-install \
    --cmake-args -DCMAKE_BUILD_TYPE=Release \
    --parallel-workers 1
</code></pre>
<p>TODO(Roger)</p>
<h2 id="using-autoware-rviz"><a class="header" href="#using-autoware-rviz">Using Autoware RViz</a></h2>
<p>TODO(Roger)</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../start-autoware/customization.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../sensors.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../start-autoware/customization.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../sensors.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
